{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<div class="container">
  {% if session.user_id %}
  <div class="row row-cols-3 p-3 mb-2 text-white">
    <div class="col-12 py-2 center-block text-center">
      <h2>Home</h2>
    </div>
    <div class="col-4 py-2 mt-2">
      <h4>Welcome {{ session.user_name }}!</h4>
    </div>
    <div class="col-4 py-2 mt-2">
      <p>Watched movies: {{ movies_count }}</p>
      <p>Rating average: {{ avg_movies }}</p> 
      <br>
      <p>Watched series: {{ series_count }}</p>
      <p>Rating average: {{ avg_series }}</p>
    </div>
    <div class="col-4 py-2">
      <a href="/watchlist" class="list nav-link px-2 text-warning">Watchlist</a>
      <a href="/watched" class="list nav-link px-2 text-warning">Watched</a>
    </div>
  </div>
    <div class="row mr-auto ml-auto mb-2"> 
      <div class="column py-4 mt-4 text-white justify-content-center border p-2">
        <ol>
          <h4>Users top 5 movies</h4>
          <br>
          {% for movie in top5_movies %}
          <li>
            <a href="/media/movie/{{movie.title}}/{{movie.year}}" class="text-white"><u>{{ movie.title }}</u></a>,
            {{ movie.year}}, {{ movie.avg }}</li>
          <br>
          {% endfor %}
        </ol>
      </div>
      <div class="column py-4 mt-4 text-white justify-content-center border p-2">
        <ol>
          <h4>Users top 5 seasons</h4>
          <br>
          {% for season in top5_series %}
          <li><a href="/media/serie/{{season.title}}/{{season.year}}" class="text-white"> <u>{{ season.title}}, season {{season.num}}</u></a>
             ({{season.year}}), {{season.avg }}</li>
          <br>
          {% endfor %}
        </ol>
      </div>
    </div>
  {% else %}
  <div class="col-12 p-3 text-white">
      Welcome! By creating an account on the site, you can keep track of which movies and television series
      you have watched and give them reviews. You can also create your own list of movies and series to watch next. 
  </div>
</div>
{% endif %}
{% endblock %}
